(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"if3+":function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),a=n("tyNb"),i=n("fXoL"),o=n("GHWL"),s=n("4d7C"),c=n("H+bZ");let m=(()=>{class t{constructor(t,e){this.apiUrl=t,this.apiService=e}getUserId(){return localStorage.getItem("userid")}getMyRevenue(t,e,n,r){n=moment(n),r=moment(r);var a={url:this.apiUrl.get_revenue.replace("{memberId}",this.getUserId()),params:{fromDate:n.startOf("day").format("YYYY-MM-DD HH:mm:ss"),toDate:r.endOf("day").format("YYYY-MM-DD HH:mm:ss"),index:t,limit:e}};return this.apiService.httpGet(a.url,a.params)}getEarningsReport(t,e,n,r){n=moment(n),r=moment(r);var a={url:this.apiUrl.get_earnings_report.replace("{memberId}",this.getUserId()),params:{fromDate:n.startOf("day").format("YYYY-MM-DD HH:mm:ss"),toDate:r.endOf("day").format("YYYY-MM-DD HH:mm:ss"),index:t,limit:e}};return this.apiService.httpGet(a.url,a.params)}getPaymentHistory(t,e){var n=this.apiUrl.get_payment_history.replace("{memberId}",this.getUserId());return this.apiService.httpGet(n,{index:t,limit:e})}getAnnualSummary(){return{Data:[],TaxWitheld:0,Revenue:0,NumberOfTransactions:0}}countEarnings(t,e){var n=this.apiUrl.count_earnings.replace("{memberId}",this.getUserId());t=moment(t),e=moment(e);var r={fromDate:t.startOf("day").format("YYYY-MM-DD HH:mm:ss"),toDate:e.endOf("day").format("YYYY-MM-DD HH:mm:ss")};return this.apiService.httpGet(n,r)}getTotalEarnedAnnual(t){var e=this.apiUrl.annual_summary.replace("{memberId}",this.getUserId());return this.apiService.httpGet(e,{year:t})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(s.a),i.Sb(c.a))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=n("sYmb");const u=function(){return["./annual-summary"]};function l(t,e){if(1&t){const t=i.Pb();i.Ob(0,"li",8),i.Wb("click",(function(e){return i.rc(t),i.Yb().notActivatedRoter()})),i.Ob(1,"a",11),i.zc(2),i.Zb(3,"translate"),i.Nb(),i.Nb()}2&t&&(i.zb(1),i.ec("routerLink",i.ic(4,u)),i.zb(1),i.Bc(" ",i.ac(3,2,"tabs.annual_summary_tab"),""))}const p=function(t){return{active:t}},d=function(){return["./total-earnings-report"]},v=function(){return["./payment-history"]},y=[{path:"",component:(()=>{class t{constructor(t,e,n){this.router=t,this.constants=e,this.earningService=n,this.href="",this.activated=!0,this.total={myRevenue:0,totalEarningsReport:0,paymentHistory:0},this.isAnnualSummary=!e.myEarningConfig.hide_annualSunmary}ngOnInit(){mApp.unblockPage();var t=new Date,e=new Date;e.setMonth(e.getMonth()-this.constants.myEarningConfig.query_months),this.countEarnings(e,t)}ngDoCheck(){this.href=this.router.url,this.activated="/my-earnings/my_revenue"==this.href}notActivatedRoter(){this.activated=!1}activatedRoter(){this.activated=!0}countEarnings(t,e){this.earningService.countEarnings(t,e).subscribe(t=>{t&&(this.total=t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(a.d),i.Lb(o.a),i.Lb(m))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-my-earnings"]],decls:29,vars:20,consts:[[1,"m-content"],[1,"m-portlet","m-portlet--ngviewer","ng-star-inserted",2,"margin","0"],[1,"m-portlet__body","m-portlet__body--no-padding"],[1,"m-portlet__preview"],[1,"m-section__content"],[1,"m-portlet__body"],[1,"menu"],[1,"nav","nav-tabs","m-tabs-line","m-tabs-line--primary","nav-justified",2,"margin","0 5%","border-bottom","none"],[1,"nav-item","m-tabs__item",3,"click"],["routerLink","/my-earnings",1,"nav-link","m-tabs__link",3,"ngClass"],[1,"m-badge","m-badge--info","m-badge--wide"],["routerLinkActive","active",1,"nav-link","m-tabs__link",3,"routerLink"],["class","nav-item m-tabs__item",3,"click",4,"ngIf"],[1,"tab-content"]],template:function(t,e){1&t&&(i.Ob(0,"div",0),i.Ob(1,"div",1),i.Ob(2,"div",2),i.Ob(3,"div",3),i.Ob(4,"div",4),i.Ob(5,"div",5),i.Ob(6,"div",6),i.Ob(7,"ul",7),i.Ob(8,"li",8),i.Wb("click",(function(t){return e.activatedRoter()})),i.Ob(9,"a",9),i.zc(10),i.Zb(11,"translate"),i.Ob(12,"span",10),i.zc(13),i.Nb(),i.Nb(),i.Nb(),i.Ob(14,"li",8),i.Wb("click",(function(t){return e.notActivatedRoter()})),i.Ob(15,"a",11),i.zc(16),i.Zb(17,"translate"),i.Ob(18,"span",10),i.zc(19),i.Nb(),i.Nb(),i.Nb(),i.Ob(20,"li",8),i.Wb("click",(function(t){return e.notActivatedRoter()})),i.Ob(21,"a",11),i.zc(22),i.Zb(23,"translate"),i.Ob(24,"span",10),i.zc(25),i.Nb(),i.Nb(),i.Nb(),i.xc(26,l,4,5,"li",12),i.Nb(),i.Nb(),i.Ob(27,"div",13),i.Mb(28,"router-outlet"),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb()),2&t&&(i.zb(9),i.ec("ngClass",i.jc(16,p,e.activated)),i.zb(1),i.Bc(" ",i.ac(11,10,"tabs.my_revenue_tab")," "),i.zb(3),i.Ac(e.total.myRevenue),i.zb(2),i.ec("routerLink",i.ic(18,d)),i.zb(1),i.Bc(" ",i.ac(17,12,"tabs.total_earnings_report_tab")," "),i.zb(3),i.Ac(e.total.totalEarningsReport),i.zb(2),i.ec("routerLink",i.ic(19,v)),i.zb(1),i.Bc(" ",i.ac(23,14,"tabs.payment_history_tab")," "),i.zb(3),i.Ac(e.total.paymentHistory),i.zb(1),i.ec("ngIf",e.isAnnualSummary))},directives:[a.f,r.k,a.e,r.m,a.h],pipes:[b.c],styles:[".menu[_ngcontent-%COMP%] {\n    margin: -2.2em -2.2em 2.2em -2.2em;\n    border-bottom: 2px solid #ebedf2;\n  }\n  .active[_ngcontent-%COMP%] {\n    color: #68a1ed !important;\n    border-bottom: 3px solid #68a1ed !important;\n  }\n  ul.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .nav-link[_ngcontent-%COMP%] {\n    color: #68a1ed !important;\n    border-bottom: 3px solid #68a1ed !important;\n  }"]}),t})(),children:[{path:"",redirectTo:"my-revenue",pathMatch:"full"},{path:"my-revenue",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-my-revenue"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Ob(0,"p"),i.zc(1,"my-revenue works!"),i.Nb())},styles:[""]}),t})()},{path:"total-earnings-report",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-total-earnings-report"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Ob(0,"p"),i.zc(1,"total-earnings-report works!"),i.Nb())},styles:[""]}),t})()},{path:"payment-history",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-payment-history"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Ob(0,"p"),i.zc(1,"payment-history works!"),i.Nb())},styles:[""]}),t})()},{path:"annual-summary",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-annual-summary"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Ob(0,"p"),i.zc(1,"annual-summary works!"),i.Nb())},styles:[""]}),t})()}]}];let g=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[a.g.forChild(y)],a.g]}),t})();n.d(e,"MyEarningsModule",(function(){return f}));let f=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[r.c,g,b.b]]}),t})()}}]);